<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="" method="post">
        <label for="">Nombre</label><input type="text" name="nombre" id="inp01"  placeholder="Jhon" required>
        <label for="">Apellido</label><input type="text" name="apellido" id="inp02"  placeholder="Doe" required>
        <label for="">edad</label><input type="number" name="edad" id="inp03"  placeholder="18" min="18" max="100" onchange="validar()">
        <Hr>
        <label for="">Nota E1</label><input type="number" name="E1" id="inp04" placeholder="10" min="0" max="10" onchange="validar1(3)">
        <label for="">Nota E2</label><input type="number" name="E2" id="inp05"  placeholder="10" min="0" max="10" onchange="validar1(4)">
        <label for="">Nota E3</label><input type="number" name="E3" id="inp06"  placeholder="10" min="0" max="10" onchange="validar1(5)">
        <label for="">Nota PO</label><input type="number" name="PO" id="inp07"  placeholder="10" min="0" max="10" onchange="validar1(6)">
        <label for="">Nota PP</label><input type="number" name="PP" id="inp08"  placeholder="10" min="0" max="10" onchange="validar1(7)">
        <!-- <input type="submit"> -->
    </form> 
    <button onclick="registrar()">Registra</button>

    <p id="p01"></p>
    
    <button onclick="MuestraListaAlumnos(alumnos)">Muestrame la Lista</button>
    <p id="p02"></p>
   <script>
      //DeclaraciÃ³n de variables
       var y=document.getElementsByTagName("input");  //Crea un array con todos los input 
       var alumnos=[];  //Array que guarda los array alumno
       var n=y.length;    //largo del array que guarda los input
       var j=0;       
       var lista;

      class alumno {
          constructor(n,a,e,e1,e2,e3,po,pp) {
            this.nombre = n;
            this.apellido= a;
            this.edad= e;
            this.e1=e1;
            this.e2=e2;
            this.e3=e3;
            this.po=po;
            this.pp=pp;
          }
        }

       function registrar(){
        //Guarda los alumnos
        var alu=new alumno(y[0].value,y[1].value,y[2].value,y[3].value,y[4].value,y[5].value,y[6].value,y[7].value);
        alumnos.push(alu); 
        console.log(alu,alumnos);
        }  
       function validar(){
        if(! ((y[2].value>=18)&&(y[2].value<=100)) ){
          document.getElementById("p01").innerHTML="La edad no es correcta";
        } 
       }
       function validar1(i){
        if(! ((y[i].value>=0)&&(y[i].value<=10)) ){
          document.getElementById("p01").innerHTML="La nota no es correcta";
        } else{
            document.getElementById("p01").innerHTML=y[i].value;
        }
       }
       function MuestraListaAlumnos(alumnos) {
            lista = "<table border=1>";
            lista += "<th>Nombre</th><th>Apellido</th><th>Edad</th><th>Nota E1</th><th>Nota E2</th><th>Nota E3</th><th>Nota PO</th><th>Nota PP</th>";
            alumnos.forEach(alumno => {
                lista += "<tr>";
                for (let iterator in alumno) {
                    lista += "<td>";
                    lista += alumno[iterator];
                    lista += "</td>";
                    console.log(iterator);
                }
            });
            lista += "</tr>";
            lista += "</table>";
            document.getElementById("p02").innerHTML = lista;
            }
   </script>

</body>
</html>